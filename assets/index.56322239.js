var F=Object.defineProperty,B=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var j=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&j(e,n,t[n]);if(y)for(var n of y(t))$.call(t,n)&&j(e,n,t[n]);return e},u=(e,t)=>B(e,q(t));var v=(e,t)=>{var n={};for(var o in e)R.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&y)for(var o of y(e))t.indexOf(o)<0&&$.call(e,o)&&(n[o]=e[o]);return n};import{j as b,r as a,R as g,L as w,A as V,a as H,u as Q,M as G,F as U,B as W,b as Y,c as S,d as z}from"./vendor.03eebf0f.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};J();const k={"clr-text":{light:"hsl(200,15%,8%)",dark:"hsl(0,0%,100%)"},"clr-elements":{light:"hsl(0,0%,100%)",dark:"hsl(209, 23%, 22%)"},"clr-input":{light:"hsl(0,0%,52%)",dark:"hsl(0, 0%, 100%)"},"clr-bg":{light:"hsl(0,0%,98%)",dark:"hsl(207, 26%, 17%)"},"clr-link":{light:"hsl(0,0%,98%)",dark:"hsl(209, 23%, 22%)"},"shadow-color":{light:"280deg 6% 76%",dark:"0deg 0% 17%"},"shadow-button":{light:"0 0 4px 2px lightgrey",dark:"0 0 3px 1px rgba(18, 10, 7, 0.5)"}},E="--initial-color-mode",O="color-mode",X=["All","Africa","Americas","Asia","Europe","Oceania"];(function(){let t="light";const n=window.localStorage.getItem(O),i=typeof window.matchMedia("(prefers-color-scheme: dark)").matches=="boolean";typeof n=="string"&&(n==="light"||n==="dark")?t=n:t=i?"dark":"light";let s=document.documentElement;s.style.setProperty(E,t),Object.entries(k).forEach(([l,h])=>{const d=`--${l}`;s.style.setProperty(d,h[t])})})();const Z="_wrapper_1uiuc_1",ee="_controls_1uiuc_4";var M={wrapper:Z,controls:ee};const r=b.exports.jsx,c=b.exports.jsxs,re=b.exports.Fragment,L={searchKey:"",fetched:[],init:[],filtered:[],filteredRegion:"",error:""},P=a.exports.createContext(L),A=a.exports.createContext(null),te=["ger","usa","ind","can","mex","npl","chn","mar","prt","and"];function ne(e,t){switch(t.type){case"init":return t.error?u(f({},e),{error:t.error}):t.data?u(f({},e),{init:t.data,fetched:t.data,filtered:t.data}):e;case"new-search":return t.error?u(f({},e),{error:t.error}):t.data?u(f({},e),{searchKey:t.searchKey,fetched:t.data,filtered:t.data,filteredRegion:"All"}):e;case"empty-search":return e.searchKey?u(f({},e),{searchKey:"",filtered:e.init,fetched:e.init}):e;case"new-fetch":return e.init.concat(t.data),e.init.length>10&&e.init.splice(0,e.init.length-10),e;case"region-filter":const n=e.fetched.filter(o=>o.region===t.region);return u(f({},e),{filtered:n,filteredRegion:t.region});case"no-filter":return e.searchKey?u(f({},e),{filtered:e.fetched}):u(f({},e),{filtered:e.init,fetched:e.init,filteredRegion:"All"});case"reset-to-init":return u(f({},e),{filtered:e.init,fetched:e.init,filteredRegion:"All",searchKey:""});default:return e}}const oe=({children:e})=>{const[t,n]=a.exports.useReducer(ne,L),o=a.exports.useCallback(async function(){const i=await fetch(`https://restcountries.com/v3.1/alpha?codes=${te.join(",")}`);if(i.status===200){const s=await i.json();n({type:"init",data:s})}else n({type:"init",error:i.statusText})},[]);return a.exports.useEffect(()=>{o()},[]),r(P.Provider,{value:t,children:r(A.Provider,{value:n,children:e})})},x=()=>{const e=a.exports.useContext(P);if(!e)throw new Error("CountryContext is not provided.");return e},C=()=>{const e=a.exports.useContext(A);if(!e)throw new Error("CountryDispatchContext is not provided.");return e},ie="_card_oqfnj_1",se="_card__logo_oqfnj_25",ce="_card__details_oqfnj_37";var N={card:ie,card__logo:se,card__details:ce};const le=g.memo(({flag:e,country:t,population:n,region:o,capital:i,code:s})=>r("div",{className:N.card,children:c(w,{to:`/country/${s}`,style:{textDecoration:"none"},children:[r("div",{className:N.card__logo,children:r("img",{src:e,alt:`The flag of ${t}`})}),c("div",{className:N.card__details,children:[r("h2",{children:t}),c("dl",{children:[c("div",{children:[r("dt",{children:"Population"}),r("dd",{children:n})]}),c("div",{children:[r("dt",{children:"Region"}),r("dd",{children:o})]}),c("div",{children:[r("dt",{children:"Capital"}),r("dd",{children:i})]})]})]})]})})),ae="_countries_1sjxw_1";var de={countries:ae};const he=()=>{const e=x();return r("div",{className:de.countries,children:e.filtered?e.filtered.map(t=>r(le,{capital:t.capital&&t.capital[0],country:t.name.common,flag:t.flags.png,population:t.population,region:t.region,code:t.cioc},t.name.common)):null})},fe="_form__field_1eay8_1",ue="_field__body_1eay8_7",pe="_field__footer_1eay8_9",_e="_spin_1eay8_1";var _={form__field:fe,field__body:ue,field__footer:pe,"field-input":"_field-input_1eay8_14","left-adornment":"_left-adornment_1eay8_50","right-adornment":"_right-adornment_1eay8_54","animate-spin":"_animate-spin_1eay8_56",spin:_e};const me=g.forwardRef(function(t,n){const h=t,{classes:o,error:i,loading:s}=h,l=v(h,["classes","error","loading"]);return c("div",{className:`${_.form__field} ${(o==null?void 0:o.root)?o.root:""}`,children:[r("div",{className:`${_.field__body} ${(o==null?void 0:o.field__body)?o.field__body:""}`,children:c("div",{className:`${_["field-input"]} ${(o==null?void 0:o["field-input"])?o["field-input"]:""}`,children:[r("div",{className:`${_["left-adornment"]} ${(o==null?void 0:o["left-adornment"])?o["left-adornment"]:""}`,"aria-hidden":"true",children:r(V,{})}),r("input",f({type:"text",name:"search",placeholder:"Search for a country...",ref:n},l)),s?r("div",{className:`${_["right-adornment"]} ${(o==null?void 0:o["right-adornment"])?o["right-adornment"]:""}`,"aria-hidden":"true",children:r(H,{className:_["animate-spin"]})}):null,r("fieldset",{"aria-hidden":"true"})]})}),r("div",{className:`${_.field__footer} ${(o==null?void 0:o.field__footer)?o.field__footer:""}`,children:i&&r("p",{className:_.error,children:i})})]})}),ge="_form__field_1vg95_1";var K={form__field:ge,"field-select":"_field-select_1vg95_8"};const ye=e=>e.trim().toLowerCase().split("/s+/").join("-"),ve=g.forwardRef(function(t,n){const h=t,{label:o,options:i}=h,s=v(h,["label","options"]),l=ye(o);return c("div",{className:K.form__field,children:[r("label",{htmlFor:l,children:o}),c("div",{className:K["field-select"],children:[r("select",u(f({id:l},s),{ref:n,children:i.map(d=>r("option",{value:d,children:d},d))})),r("fieldset",{"aria-hidden":"true"})]})]})}),xe=()=>{const e=x(),t=C(),[n,o]=a.exports.useState(e.filteredRegion);a.exports.useEffect(()=>{o(e.filteredRegion)},[e.filteredRegion]);const i=s=>{const l=s.target.value;o(l),n!==l&&t(l==="All"?{type:"no-filter"}:{type:"region-filter",region:l})};return r(ve,{value:e.filteredRegion||n,onChange:i,label:"Filter By Region",options:X})},Ce=()=>{const[e,t]=a.exports.useState(""),[n,o]=a.exports.useState({error:"",loading:!1}),i=x(),s=C();a.exports.useEffect(()=>{t(i.searchKey)},[i.searchKey]);const l=async d=>{o({error:"",loading:!0});const p=await fetch(`https://restcountries.com/v3.1/name/${d}`);if(p.status===200){const D=await p.json();s({type:"new-search",searchKey:e,data:D}),o({error:"",loading:!1})}else s({type:"new-search",searchKey:e,error:p.statusText}),o({error:"Details not found",loading:!1})};return r(me,{value:e,onChange:d=>t(d.target.value),onKeyUp:async d=>{d.key==="Enter"&&(e?await l(e):s({type:"empty-search"}))},error:n.error,loading:n.loading})},be=()=>c("div",{className:M.wrapper,children:[c("div",{className:M.controls,children:[r(Ce,{}),r(xe,{})]}),r(he,{})]}),we="_wrapper_8jahp_1",Ne="_button_8jahp_5",Re="_country_8jahp_20",$e="_flag_8jahp_24",je="_details_8jahp_33",Se="_dls_8jahp_41",ke="_borders_8jahp_59";var m={wrapper:we,button:Ne,country:Re,flag:$e,details:je,dls:Se,borders:ke};const Ee=e=>r("button",{className:m.button,children:e.children}),Oe=()=>{const e=x(),t=C(),[n,o]=a.exports.useState(null),{code:i}=Q();return a.exports.useEffect(()=>{const s=async h=>{const d=await fetch(`https://restcountries.com/v3.1/alpha/${h}`);if(d.status===200){const p=await d.json();o(p[0]),t({type:"new-fetch",data:p})}},l=e.fetched.filter(h=>h.cioc===i);l.length!==0?o(l[0]):s(i)},[]),c("div",{className:m.wrapper,children:[c(w,{to:"/",className:m.button,children:[r(G,{}),"Back"]}),n&&c("section",{className:m.country,children:[r("div",{className:m.flag,children:r("img",{src:n.flags.png})}),c("div",{className:m.details,children:[r("h2",{children:n.name.common}),c("div",{children:[c("div",{className:m.dls,children:[c("dl",{children:[c("div",{children:[r("dt",{children:"Native name"}),r("dd",{children:n.name.nativeName[Object.keys(n.languages)[0]].common})]}),c("div",{children:[r("dt",{children:"Population"}),r("dd",{children:n.population})]}),c("div",{children:[r("dt",{children:"Region"}),r("dd",{children:n.region})]}),c("div",{children:[r("dt",{children:"Sub Region"}),r("dd",{children:n.subregion})]}),c("div",{children:[r("dt",{children:"Capital"}),r("dd",{children:n.capital})]})]}),c("dl",{children:[c("div",{children:[r("dt",{children:"Top Level Domain"}),r("dd",{children:n.tld[0]})]}),c("div",{children:[r("dt",{children:"Currencies"}),r("dd",{children:n.currencies[Object.keys(n.currencies)[0]].name})]}),c("div",{children:[r("dt",{children:"Languages"}),r("dd",{children:Object.values(n.languages).join(", ")})]})]})]}),r("div",{className:m.borders,children:c("dl",{children:[r("dt",{children:"Border Countries"}),r("dd",{children:n.borders.map((s,l)=>r(Ee,{children:s},l))})]})})]})]})]})]})},T=a.exports.createContext({}),Me=({children:e})=>{const[t,n]=a.exports.useState("");a.exports.useEffect(()=>{const s=window.document.documentElement.style.getPropertyValue(E);n(s)},[]);const o=g.useMemo(()=>{function i(s){const l=window.document.documentElement;n(s),localStorage.setItem(O,s),Object.entries(k).forEach(([h,d])=>{const p=`--${h}`;l.style.setProperty(p,d[s])})}return{colorMode:t,setColorMode:i}},[t,n]);return r(T.Provider,{value:o,children:e})};var Le={"theme-changer":"_theme-changer_1wynv_1"};const Pe=()=>{const{colorMode:e,setColorMode:t}=a.exports.useContext(T),n=e==="light";return c("button",{className:Le["theme-changer"],onClick:()=>{t(n?"dark":"light")},"aria-label":`change theme to ${n?"dark":"light"} mode`,children:[r(U,{}),"Dark Mode"]})},Ae="_header_1hfvu_1",Ke="_container_1hfvu_8";var I={header:Ae,container:Ke};const Te=()=>{const e=C();return r("header",{className:I.header,children:c("div",{className:I.container,children:[r(w,{to:"/",onClick:()=>e({type:"reset-to-init"}),children:r("h1",{children:"Where in the world?"})}),r(Pe,{})]})})},Ie=n=>{var o=n,{children:e}=o,t=v(o,["children"]);return c(re,{children:[r(Te,{}),r("main",u(f({},t),{children:r("div",{className:"container",children:e})}))]})};function De(){return r(Me,{children:r(oe,{children:r("div",{children:r(W,{basename:"/fe-c6-search-country",children:r(Ie,{children:c(Y,{children:[r(S,{path:"/",element:r(be,{})}),r(S,{path:"/country/:code",element:r(Oe,{})})]})})})})})})}z.render(r(g.StrictMode,{children:r(De,{})}),document.getElementById("root"));
