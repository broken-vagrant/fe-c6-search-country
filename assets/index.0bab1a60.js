var K=Object.defineProperty,T=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var k=(r,t,n)=>t in r?K(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,u=(r,t)=>{for(var n in t||(t={}))N.call(t,n)&&k(r,n,t[n]);if(g)for(var n of g(t))j.call(t,n)&&k(r,n,t[n]);return r},p=(r,t)=>T(r,I(t));var O=(r,t)=>{var n={};for(var s in r)N.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&g)for(var s of g(r))t.indexOf(s)<0&&j.call(r,s)&&(n[s]=r[s]);return n};import{j as v,r as a,R as x,L as w,A as D,u as B,M as F,F as V,B as q,a as H,b as S,c as z}from"./vendor.afc41d1f.js";const Q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};Q();const E={"clr-text":{light:"hsl(200,15%,8%)",dark:"hsl(0,0%,100%)"},"clr-elements":{light:"hsl(0,0%,100%)",dark:"hsl(209, 23%, 22%)"},"clr-input":{light:"hsl(0,0%,52%)",dark:"hsl(0, 0%, 100%)"},"clr-bg":{light:"hsl(0,0%,98%)",dark:"hsl(207, 26%, 17%)"},"clr-link":{light:"hsl(0,0%,98%)",dark:"hsl(209, 23%, 22%)"},"shadow-color":{light:"280deg 6% 76%",dark:"0deg 0% 17%"},"shadow-button":{light:"0 0 4px 2px lightgrey",dark:"0 0 3px 1px rgba(18, 10, 7, 0.5)"}},M="--initial-color-mode",P="color-mode";(function(){let t="light";const n=window.localStorage.getItem(P),o=typeof window.matchMedia("(prefers-color-scheme: dark)").matches=="boolean";typeof n=="string"&&(n==="light"||n==="dark")?t=n:t=o?"dark":"light";let c=document.documentElement;c.style.setProperty(M,t),Object.entries(E).forEach(([l,d])=>{const h=`--${l}`;c.style.setProperty(h,d[t])})})();const e=v.exports.jsx,i=v.exports.jsxs,U=v.exports.Fragment,R={searchKey:"",fetched:[],init:[],filtered:[],error:""},C=a.exports.createContext(R),y=a.exports.createContext(null),W=["ger","usa","ind","can","mex","npl","chn","mar","prt","and"];function Y(r,t){switch(t.type){case"init":return t.error?p(u({},r),{error:t.error}):t.data?p(u({},r),{init:t.data,fetched:t.data,filtered:t.data}):r;case"new-search":return t.error?p(u({},r),{error:t.error}):t.data?p(u({},r),{searchKey:t.searchKey,fetched:t.data,filtered:t.data}):r;case"empty-search":return r.searchKey?p(u({},r),{searchKey:"",filtered:r.init,fetched:r.init}):r;case"new-fetch":return r.init.concat(t.data),r.init.length>10&&r.init.splice(0,r.init.length-10),r;case"region-filter":const n=r.fetched.filter(s=>s.region===t.region);return p(u({},r),{filtered:n});case"no-filter":return r.searchKey?p(u({},r),{filtered:r.fetched}):p(u({},r),{filtered:r.init,fetched:r.init});default:return r}}const G=({children:r})=>{const[t,n]=a.exports.useReducer(Y,R),s=a.exports.useCallback(async function(){const o=await fetch(`https://restcountries.com/v3.1/alpha?codes=${W.join(",")}`);if(o.status===200){const c=await o.json();n({type:"init",data:c})}else n({type:"init",error:o.statusText})},[]);return a.exports.useCallback(async()=>{t.init.length===0?await s():console.log("cache already uptodate!")},[]),a.exports.useEffect(()=>{s()},[]),e(C.Provider,{value:t,children:e(y.Provider,{value:n,children:r})})},J="_card_1x2vg_1",X="_card__logo_1x2vg_19",Z="_card__details_1x2vg_31";var b={card:J,card__logo:X,card__details:Z};const ee=x.memo(({flag:r,country:t,population:n,region:s,capital:o,code:c})=>e("div",{className:b.card,children:i(w,{to:`/country/${c}`,style:{textDecoration:"none"},children:[e("div",{className:b.card__logo,children:e("img",{src:r,alt:`The flag of ${t}`})}),i("div",{className:b.card__details,children:[e("h2",{children:t}),i("dl",{children:[i("div",{children:[e("dt",{children:"Population"}),e("dd",{children:n})]}),i("div",{children:[e("dt",{children:"Region"}),e("dd",{children:s})]}),i("div",{children:[e("dt",{children:"Capital"}),e("dd",{children:o})]})]})]})]})})),re="_countries_1sjxw_1";var te={countries:re};const ne=()=>{const r=a.exports.useContext(C);return e("section",{className:te.countries,children:r.filtered?r.filtered.map(t=>e(ee,{capital:t.capital&&t.capital[0],country:t.name.common,flag:t.flags.png,population:t.population,region:t.region,code:t.cioc},t.name.common)):null})},oe="_form__field_1c7v3_1",ce="_field__body_1c7v3_7",se="_field__footer_1c7v3_10";var _={form__field:oe,field__body:ce,field__footer:se,"field-input":"_field-input_1c7v3_15","left-adornment":"_left-adornment_1c7v3_50"};const ie=()=>{const[r,t]=a.exports.useState(""),[n,s]=a.exports.useState(""),o=a.exports.useContext(y),c=async d=>{const h=await fetch(`https://restcountries.com/v3.1/name/${d}`);if(h.status===200){const m=await h.json();s(""),o({type:"new-search",searchKey:r,data:m})}else s(h.statusText),o({type:"new-search",searchKey:r,error:h.statusText})},l=async d=>{d.key==="Enter"&&(r?await c(r):o({type:"empty-search"}))};return i("div",{className:_.form__field,children:[e("div",{className:_.field__body,children:i("div",{className:_["field-input"],children:[e("div",{className:_["left-adornment"],"aria-hidden":"true",children:e(D,{})}),e("input",{type:"text",name:"search",placeholder:"Search for a country...",value:r,onChange:d=>t(d.target.value),onKeyUp:l}),e("fieldset",{"aria-hidden":"true"})]})}),e("div",{className:_.field__footer,children:n&&e("p",{className:_.error,children:n})})]})};var ae={"field-select":"_field-select_1aw36_1"};const le=()=>{const[r,t]=a.exports.useState(""),n=a.exports.useContext(y),s=o=>{const c=o.target.value;t(c),r!==c&&n(c==="ps"?{type:"no-filter"}:{type:"region-filter",region:c})};return i("div",{className:ae["field-select"],children:[i("select",{id:"region",value:r,onChange:s,children:[e("option",{value:"ps",children:"Filter by Region"}),e("option",{value:"Africa",children:"Africa"}),e("option",{value:"Americas",children:"Americas"}),e("option",{value:"Asia",children:"Asia"}),e("option",{value:"Europe",children:"Europe"}),e("option",{value:"Oceania",children:"Oceania"})]}),e("fieldset",{"aria-hidden":"true"})]})},de="_wrapper_4zi2r_1",he="_controls_4zi2r_4";var $={wrapper:de,controls:he};const ue=()=>i("div",{className:$.wrapper,children:[i("section",{className:$.controls,children:[e(ie,{}),e(le,{})]}),e(ne,{})]}),pe="_wrapper_8jahp_1",fe="_button_8jahp_5",me="_country_8jahp_20",_e="_flag_8jahp_24",ge="_details_8jahp_33",ye="_dls_8jahp_41",ve="_borders_8jahp_59";var f={wrapper:pe,button:fe,country:me,flag:_e,details:ge,dls:ye,borders:ve};const xe=r=>e("button",{className:f.button,children:r.children}),we=()=>{const r=a.exports.useContext(C),t=a.exports.useContext(y),[n,s]=a.exports.useState(null),{code:o}=B();return a.exports.useEffect(()=>{const c=async d=>{const h=await fetch(`https://restcountries.com/v3.1/alpha/${d}`);if(h.status===200){const m=await h.json();s(m[0]),t({type:"new-fetch",data:m})}},l=r.fetched.filter(d=>d.cioc===o);l.length!==0?s(l[0]):c(o)},[]),i("div",{className:f.wrapper,children:[i(w,{to:"/",className:f.button,children:[e(F,{}),"Back"]}),n&&i("section",{className:f.country,children:[e("div",{className:f.flag,children:e("img",{src:n.flags.png})}),i("div",{className:f.details,children:[e("h2",{children:n.name.common}),i("div",{children:[i("div",{className:f.dls,children:[i("dl",{children:[i("div",{children:[e("dt",{children:"Native name"}),e("dd",{children:n.name.nativeName[Object.keys(n.languages)[0]].common})]}),i("div",{children:[e("dt",{children:"Population"}),e("dd",{children:n.population})]}),i("div",{children:[e("dt",{children:"Region"}),e("dd",{children:n.region})]}),i("div",{children:[e("dt",{children:"Sub Region"}),e("dd",{children:n.subregion})]}),i("div",{children:[e("dt",{children:"Capital"}),e("dd",{children:n.capital})]})]}),i("dl",{children:[i("div",{children:[e("dt",{children:"Top Level Domain"}),e("dd",{children:n.tld[0]})]}),i("div",{children:[e("dt",{children:"Currencies"}),e("dd",{children:n.currencies[Object.keys(n.currencies)[0]].name})]}),i("div",{children:[e("dt",{children:"Languages"}),e("dd",{children:Object.values(n.languages).join(", ")})]})]})]}),e("div",{className:f.borders,children:i("dl",{children:[e("dt",{children:"Border Countries"}),e("dd",{children:n.borders.map((c,l)=>e(xe,{children:c},l))})]})})]})]})]})]})},L=a.exports.createContext({}),Ce=({children:r})=>{const[t,n]=a.exports.useState("");a.exports.useEffect(()=>{const c=window.document.documentElement.style.getPropertyValue(M);n(c)},[]);const s=x.useMemo(()=>{function o(c){const l=window.document.documentElement;n(c),localStorage.setItem(P,c),Object.entries(E).forEach(([d,h])=>{const m=`--${d}`;l.style.setProperty(m,h[c])})}return{colorMode:t,setColorMode:o}},[t,n]);return e(L.Provider,{value:s,children:r})};var be={"theme-changer":"_theme-changer_1wynv_1"};const Ne=()=>{const{colorMode:r,setColorMode:t}=a.exports.useContext(L),n=r==="light";return i("button",{className:be["theme-changer"],onClick:()=>{t(n?"dark":"light")},"aria-label":`change theme to ${n?"dark":"light"} mode`,children:[e(V,{}),"Dark Mode"]})},je="_header_esmw3_1",ke="_container_esmw3_8";var A={header:je,container:ke};const Oe=()=>e("header",{className:A.header,children:i("div",{className:A.container,children:[e(w,{to:"/",children:e("h1",{children:"Where in the world?"})}),e(Ne,{})]})}),Se=n=>{var s=n,{children:r}=s,t=O(s,["children"]);return i(U,{children:[e(Oe,{}),e("main",p(u({},t),{children:e("div",{className:"container",children:r})}))]})};function Ee(){return e(Ce,{children:e(G,{children:e("div",{children:e(q,{basename:"/fe-c6-search-country",children:e(Se,{children:i(H,{children:[e(S,{path:"/",element:e(ue,{})}),e(S,{path:"/country/:code",element:e(we,{})})]})})})})})})}z.render(e(x.StrictMode,{children:e(Ee,{})}),document.getElementById("root"));
